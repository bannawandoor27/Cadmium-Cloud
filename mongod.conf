storage:
  wiredTiger:
    engineConfig:
      cacheSizeGB: 16  # Increase cache size
      configString: "cache_max_wait_ms=0,eviction=(threads_max=8,trigger=(total_cache_size=90)"
    collectionConfig:
      blockCompressor: zstd  # Keep efficient compression
    indexConfig:
      prefixCompression: true

net:
  port: 27017
  maxIncomingConnections: 20000

setParameter:
  maxIndexBuildMemoryUsageMegabytes: 4096  # Doubled memory for index builds
  storageEngineConcurrentReadTransactions: 256  # Increased concurrent reads
  storageEngineConcurrentWriteTransactions: 128  # Increased concurrent writes
  enableFlowControl: false  # Disable flow control for max throughput
  internalQueryExecMaxBlockingSortBytes: 536870912  # Increase sort memory
  maxTransactionLockRequestTimeMillis: 5000

operationProfiling:
  mode: off  # Disable profiling for minimal overhead
  slowOpThresholdMs: 100  # Tighter slow query detection

diagnosticDataCollectionEnabled: false  # Disable diagnostic data collection

wiredTiger:
  engineConfig:
    statisticsLogDelaySecs: 0  # Disable statistics logging