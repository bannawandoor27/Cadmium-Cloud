storage:
  dbPath: /data/db
  journal:
    enabled: true # Ensure durability with journaling
  wiredTiger:
    engineConfig:
      cacheSizeGB: 12 # Allocate 50% of system memory to WiredTiger cache
      journalCompressor: snappy # Use efficient compression for journal files
    collectionConfig:
      blockCompressor: zstd # Use zstd for better compression and performance
    indexConfig:
      prefixCompression: true # Optimize index storage

net:
  bindIp: 0.0.0.0 # Allow connections from any IP
  port: 27017

processManagement:
  fork: false # Required for containerized environments
  pidFilePath: /var/run/mongodb/mongod.pid

systemLog:
  destination: file
  path: /var/log/mongodb/mongod.log
  logAppend: true
  verbosity: 1

replication:
  oplogSizeMB: 2048 # Increase oplog size to 2 GB for better replication

operationProfiling:
  mode: slowOp # Log slow operations for debugging
  slowOpThresholdMs: 50 # Reduce threshold for identifying slow queries

setParameter:
  maxIndexBuildMemoryUsageMegabytes: 2048 # Allow more memory for index builds
  wiredTigerConcurrentReadTransactions: 128 # Increase read concurrency
  wiredTigerConcurrentWriteTransactions: 64 # Increase write concurrency
